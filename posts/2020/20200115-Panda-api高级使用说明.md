{
    :title "Panda api 高级使用说明"
    :post-date "2020-01-15 20:05"
}


### 全局字段属性，不需要重复写相同的字段
我们在上一篇的简易教学文章中，用户登录接口和用户退出接口的response返回字段，都有一个`code`字段和`msg`字段，
```.language-json
"response":{
    "code":{...}
    "msg":{...}
}
```

实际上，很有可能，我们整个系统的接口，都遵循同样的标准，所有接口都有`code`字段和`msg`字段，那么，每个地方的body和response都去写岂不是很麻烦；另外，可能我们整个网站绝大部分的接口都是要登录的，只有很少的一小部分不需要登录，每个都去设置也很麻烦啊。我承认就是懒，所以Panda api提供了一个简单的全局设置方法。

打开`_settings.json`文件
```.language-json
{
  "project_name": "Panda Api", // 项目名称
  "project_desc": "Panda Api is a simple api manage tool" // 项目简述
}
```

我们增加`global`字段，内容变为：

```.language-json
{
  "project_name": "Panda Api",
  "project_desc": "Panda Api is a simple api manage tool",
  "global": {
    "api":{
      "auth": true,
      "response":{
        "code":{"name":"返回的状态码", "type":"number"},
        "msg":{"name":"返回的状态说明"}
      }
    },
  }
}
```

这样我们设置了全局api接口的`auth`字段全部为`true`，全局的`response`都有了字段`code`和`msg`，我们可以打开我们的接口文档来查看`http://localhost:9000`

当然，我们的用户登录接口`/login`是不需要验证用户登录的，我们可以在用户登录接口中单独设置`auth`为`false`，这就像继承的概念一样。
```.language-json
{
    "name":"用户登录",
    "desc":"用户登录成功，接口会返回一个token",
    "method": "POST",
    "url":"/login/",
    "auth":false, // 单独设置登录接口不需要验证和用户登录状态
    "body_mode":"json",
    "body":...
```
`code`字段和`msg`字段，如果有的地方不需要这两个字段，就不能简单的像auth字段一样修改一个值，你要做的是再不需要的地方设置删除。

```.language-json
"response":{
    "code":"$del", // 删除继承得来的code字段
    "msg":"$del", // 删除继承得来的msg字段
    ...
}
```

这个时候设置了值为`$del`的字段就没有了，我们可以刷新前端文档看一下。

### 列表和对象






